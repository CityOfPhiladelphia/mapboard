(window["webpackJsonpmapboard"] = window["webpackJsonpmapboard"] || []).push([["vendors~cyclomediaWidget"],{

/***/ "./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue":
/*!**************************************************************************************!*\
  !*** ./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Widget_vue_vue_type_template_id_454cd8d3___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Widget.vue?vue&type=template&id=454cd8d3& */ \"./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=template&id=454cd8d3&\");\n/* harmony import */ var _Widget_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Widget.vue?vue&type=script&lang=js& */ \"./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=script&lang=js&\");\n/* empty/unused harmony star reexport *//* harmony import */ var _Widget_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Widget.vue?vue&type=style&index=0&lang=css& */ \"./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=style&index=0&lang=css&\");\n/* harmony import */ var _vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../vue-loader/lib/runtime/componentNormalizer.js */ \"./node_modules/vue-loader/lib/runtime/componentNormalizer.js\");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(\n  _Widget_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  _Widget_vue_vue_type_template_id_454cd8d3___WEBPACK_IMPORTED_MODULE_0__[\"render\"],\n  _Widget_vue_vue_type_template_id_454cd8d3___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"],\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (component.exports);\n\n//# sourceURL=webpack://mapboard/./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?");

/***/ }),

/***/ "./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=script&lang=js&":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=script&lang=js& ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _vue_loader_lib_index_js_vue_loader_options_Widget_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../vue-loader/lib??vue-loader-options!./Widget.vue?vue&type=script&lang=js& */ \"./node_modules/vue-loader/lib/index.js?!./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=script&lang=js&\");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__[\"default\"] = (_vue_loader_lib_index_js_vue_loader_options_Widget_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[\"default\"]); \n\n//# sourceURL=webpack://mapboard/./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?");

/***/ }),

/***/ "./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=style&index=0&lang=css&":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=style&index=0&lang=css& ***!
  \***********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _style_loader_index_js_css_loader_dist_cjs_js_vue_loader_lib_loaders_stylePostLoader_js_vue_loader_lib_index_js_vue_loader_options_Widget_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../style-loader!../../../../css-loader/dist/cjs.js!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../vue-loader/lib??vue-loader-options!./Widget.vue?vue&type=style&index=0&lang=css& */ \"./node_modules/style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js?!./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=style&index=0&lang=css&\");\n/* harmony import */ var _style_loader_index_js_css_loader_dist_cjs_js_vue_loader_lib_loaders_stylePostLoader_js_vue_loader_lib_index_js_vue_loader_options_Widget_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_style_loader_index_js_css_loader_dist_cjs_js_vue_loader_lib_loaders_stylePostLoader_js_vue_loader_lib_index_js_vue_loader_options_Widget_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _style_loader_index_js_css_loader_dist_cjs_js_vue_loader_lib_loaders_stylePostLoader_js_vue_loader_lib_index_js_vue_loader_options_Widget_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _style_loader_index_js_css_loader_dist_cjs_js_vue_loader_lib_loaders_stylePostLoader_js_vue_loader_lib_index_js_vue_loader_options_Widget_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__[\"default\"] = (_style_loader_index_js_css_loader_dist_cjs_js_vue_loader_lib_loaders_stylePostLoader_js_vue_loader_lib_index_js_vue_loader_options_Widget_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=webpack://mapboard/./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?");

/***/ }),

/***/ "./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=template&id=454cd8d3&":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=template&id=454cd8d3& ***!
  \*********************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _vue_loader_lib_loaders_templateLoader_js_vue_loader_options_vue_loader_lib_index_js_vue_loader_options_Widget_vue_vue_type_template_id_454cd8d3___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../vue-loader/lib??vue-loader-options!./Widget.vue?vue&type=template&id=454cd8d3& */ \"./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=template&id=454cd8d3&\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return _vue_loader_lib_loaders_templateLoader_js_vue_loader_options_vue_loader_lib_index_js_vue_loader_options_Widget_vue_vue_type_template_id_454cd8d3___WEBPACK_IMPORTED_MODULE_0__[\"render\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return _vue_loader_lib_loaders_templateLoader_js_vue_loader_options_vue_loader_lib_index_js_vue_loader_options_Widget_vue_vue_type_template_id_454cd8d3___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"]; });\n\n\n\n//# sourceURL=webpack://mapboard/./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js?!./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=style&index=0&lang=css&":
/*!************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=style&index=0&lang=css& ***!
  \************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../../../css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.i, \"\\n#cyclo-container {\\r\\n  padding: 0px;\\r\\n  height: 50%;\\r\\n  display: none;\\n}\\n@media screen and (min-width: 46.875em) {\\n#cyclo-container {\\r\\n    display: block;\\n}\\n}\\n#inCycloDiv {\\r\\n  /* position: absolute; */\\r\\n  position: absolute;\\r\\n  /* top: 0px; */\\r\\n  right: 0px;\\r\\n  /* float: right; */\\r\\n  background-color: white;\\r\\n  border: 0px solid;\\r\\n  width: 30px;\\r\\n  height: 30px;\\r\\n  cursor:pointer;\\r\\n  z-index: 10;\\n}\\n.popout-icon {\\r\\n  margin-top: 8.5px;\\r\\n  font-size: 15px;\\r\\n  margin-left: 8.5px;\\n}\\n.panoramaViewerWindow {\\r\\n  display: block;\\r\\n  width: 100%;\\r\\n  height:100%;\\n}\\n@media screen and (max-width: 46.875em) {\\n.cyclo-container {\\r\\n    display: none;\\n}\\n}\\r\\n\\r\\n\", \"\"]);\n\n\n\n//# sourceURL=webpack://mapboard/./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib??vue-loader-options");

/***/ }),

/***/ "./node_modules/style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js?!./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=style&index=0&lang=css&":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/style-loader!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=style&index=0&lang=css& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar content = __webpack_require__(/*! !../../../../css-loader/dist/cjs.js!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../vue-loader/lib??vue-loader-options!./Widget.vue?vue&type=style&index=0&lang=css& */ \"./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js?!./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=style&index=0&lang=css&\");\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(/*! ../../../../style-loader/lib/addStyles.js */ \"./node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n//# sourceURL=webpack://mapboard/./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?./node_modules/style-loader!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib??vue-loader-options");

/***/ }),

/***/ "./node_modules/vue-loader/lib/index.js?!./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=script&lang=js&":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var proj4__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! proj4 */ \"./node_modules/proj4/lib/index.js\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'CyclomediaWidget',\n  data() {\n    return {\n      'docWidth': 0,\n      'divWidth': 0,\n      'popoutPosition': 0,\n    }\n  },\n  props: ['screenPercent'],\n  computed: {\n    isMobileOrTablet() {\n      return this.$store.state.isMobileOrTablet;\n    },\n    fullScreenMapEnabled() {\n      return this.$store.state.fullScreenMapEnabled;\n    },\n    popoutAble() {\n      let answer;\n      if (this.$config.cyclomedia.popoutAble === false) {\n        answer = false\n      } else {\n        answer = true\n      }\n      return answer\n    },\n    cyclomediaInitialized() {\n      return this.$store.state.cyclomedia.initialized;\n    },\n    cyclomediaActive() {\n      return this.$store.state.cyclomedia.active;\n    },\n    pictometryActive() {\n      return this.$store.state.pictometry.active;\n    },\n    cycloContainerClass() {\n      if (this.pictometryActive) {\n        return 'medium-16 large-16 columns mb-panel'\n      } else {\n        return 'medium-24 large-24 columns mb-panel'\n      }\n    },\n    locForCyclo() {\n      // console.log('computing locForCyclo');\n      const geocodeData = this.$store.state.geocode.data;\n      const map = this.$store.state.map.map;\n      if (geocodeData) {\n        return [geocodeData.geometry.coordinates[1], geocodeData.geometry.coordinates[0]];\n      }\n    },\n    latLngFromMap() {\n      return this.$store.state.cyclomedia.latLngFromMap;\n    },\n    mapCenter() {\n      return this.$store.state.map.center;\n    },\n    navBarOpen() {\n      return this.$store.state.cyclomedia.navBarOpen;\n    },\n    projection4326() {\n      return \"+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs\";\n    },\n    projection2272() {\n      return \"+proj=lcc +lat_1=40.96666666666667 +lat_2=39.93333333333333 +lat_0=39.33333333333334 +lon_0=-77.75 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs\";\n    },\n    // surfaceCursorOn() {\n    //   return this.$store.state.cyclomedia.surfaceCursorOn;\n    // }\n  },\n  watch: {\n    fullScreenMapEnabled() {\n      this.setDivWidth();\n    },\n    locForCyclo(newCoords) {\n      // console.log('watch locForCyclo is firing, setNewLocation running with newCoords:', newCoords);\n      if (newCoords) {\n        this.setNewLocation(newCoords);\n      }\n    },\n    latLngFromMap(newCoords) {\n      // console.log('watch latLngFromMap is firing, setNewLocation running with newCoords:', newCoords);\n      if (this.cyclomediaInitialized) {\n\n        if (Array.isArray(newCoords)) {\n          // console.log('it is an array');\n          this.setNewLocation([newCoords[1], newCoords[0]]);\n        } else {\n          // console.log('it is not an array');\n          this.setNewLocation([newCoords.lat, newCoords.lng]);\n        }\n      }\n    },\n    // docWidthComp() {\n    //   console.log('docWidth changed');\n    // }\n    cyclomediaInitialized() {\n      StreetSmartApi.init({\n        targetElement: this.$refs.cycloviewer,\n        username: this.$config.cyclomedia.username,\n        password: this.$config.cyclomedia.password,\n        apiKey: this.$config.cyclomedia.apiKey,\n        // srs: 'EPSG:4326',\n        srs: 'EPSG:2272',\n        locale: 'en-us',\n        addressSettings: {\n          locale: 'en-us',\n          database: 'CMDatabase'\n        }\n      }).then (\n        () => {\n          // get map center and set location\n          const latLngFromMap = this.$store.state.cyclomedia.latLngFromMap;\n          this.setNewLocation([latLngFromMap[0], latLngFromMap[1]]);\n        },\n        err => {\n          // console.log('Api: init: failed. Error: ', err);\n        }\n      );\n      window.addEventListener('resize', this.setDivWidth);\n    },\n    cyclomediaActive(newActiveStatus) {\n      this.setDivWidth();\n      if (newActiveStatus === true) {\n        this.setNewLocation(this.latLngFromMap);\n      }\n    },\n    // pictometryActive() {\n    //   this.setDivWidth();\n    // }\n  },\n  updated() {\n    // console.log('cyclomedia updated running');\n    // TODO find a better way to get the image to update and not be stretched\n    // const viewer = this.$store.state.cyclomedia.viewer;\n    if (this.cyclomediaActive) {\n      if (window.panoramaViewer) {\n        window.panoramaViewer.rotateRight(0.0000001);\n      }\n    }\n    this.setDivWidth();\n  },\n  methods: {\n    setDivWidth() {\n      const docWidth = document.body.clientWidth;\n      this.docWidth = docWidth;\n      const el = document.getElementById('cyclo-container');\n      const divStyle = window.getComputedStyle(el);\n      const divWidth = parseFloat(divStyle.getPropertyValue('width').replace('px', ''));\n      this.divWidth = divWidth;\n      // console.log('setDivWidth is running, docWidth:', docWidth, 'divWidth', divWidth);\n      let answer;\n      if (this.fullScreenMapEnabled) {\n        answer = docWidth - divWidth + 'px';\n      } else {\n        answer = docWidth - (docWidth/this.$props.screenPercent + divWidth) + 'px';\n      }\n      // console.log('setDivWidth, answer:', answer);\n      this.popoutPosition = answer;\n      // return width;\n    },\n    setNewLocation(coords) {\n      // console.log('cyclomedia setNewLocation is running using', coords);\n      const viewerType = StreetSmartApi.ViewerType.PANORAMA;\n      const coords2272 = Object(proj4__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this.projection4326, this.projection2272, [coords[1], coords[0]]);\n      // StreetSmartApi.open(center.lng + ',' + center.lat, {\n      // StreetSmartApi.open(coords[1] + ',' + coords[0], {\n      StreetSmartApi.open(coords2272[0] + ',' + coords2272[1], {\n        viewerType: viewerType,\n        srs: 'EPSG:2272',\n        // srs: 'EPSG:4326',\n        panoramaViewer: {\n          closable: false,\n          maximizable: false,\n        }\n      }).then (\n        function(result) {\n          // console.log('StreetSmartApi2, result:', result);\n          const widget = this;\n          // console.log('Created component through API:', result);\n          if (result) {\n            for (let i =0; i < result.length; i++) {\n              if(result[i].getType() === StreetSmartApi.ViewerType.PANORAMA) window.panoramaViewer = result[i];\n            }\n            widget.sendOrientationToStore();\n\n            // StreetSmartApi.removeOverlay()\n            window.panoramaViewer.toggleNavbarExpanded(widget.navBarOpen);\n            // if (widget.isMobileOrTablet) {\n            // console.log('about to remove surfaceCursorLayer');\n            // StreetSmartApi.removeOverlay('surfaceCursorLayer');\n            // console.log('removed surfaceCursorLayer');\n            // }\n\n            // StreetSmartApi.removeOverlay('measurementLayer');\n            // window.panoramaViewer.toggleButtonEnabled('panorama.measure', false);\n            window.panoramaViewer.toggleButtonEnabled('panorama.elevation', false);\n            window.panoramaViewer.toggleButtonEnabled('panorama.reportBlurring', false);\n\n            for (let overlay of window.panoramaViewer.props.overlays) {\n              // console.log('overlay:', overlay);\n              if (overlay.id === 'surfaceCursorLayer') {\n                if (overlay.visible === true) {\n                  window.panoramaViewer.toggleOverlay(overlay);\n                  // overlay.visible = false;\n                }\n              }\n            }\n\n            if (!this.$config.cyclomedia.measurementAllowed || this.$config.cyclomedia.measurementAllowed === 'false') {\n              StreetSmartApi.removeOverlay('measurementLayer');\n              window.panoramaViewer.toggleButtonEnabled('panorama.measure', false);\n            }\n\n            window.panoramaViewer.on('VIEW_CHANGE', function() {\n              if (window.panoramaViewer.props.orientation.yaw !== widget.$store.state.cyclomedia.orientation.yaw ||\n                  window.panoramaViewer.props.orientation.xyz !== widget.$store.state.cyclomedia.orientation.xyz\n              ) {\n                // console.log('on VIEW_CHANGE fired with yaw change', window.panoramaViewer.props.orientation);\n                widget.sendOrientationToStore();\n              } else if (window.panoramaViewer.getNavbarExpanded() !== this.navBarOpen) {\n                widget.$store.commit('setCyclomediaNavBarOpen', window.panoramaViewer.getNavbarExpanded());\n              }\n            })\n\n            window.panoramaViewer.on('VIEW_LOAD_END', function() {\n              if (window.panoramaViewer.props.orientation.yaw !== widget.$store.state.cyclomedia.orientation.yaw ||\n                  window.panoramaViewer.props.orientation.xyz !== widget.$store.state.cyclomedia.orientation.xyz\n              ) {\n                // console.log('on VIEW_CHANGE fired with yaw change', window.panoramaViewer.props.orientation);\n                widget.sendOrientationToStore();\n              } else if (window.panoramaViewer.getNavbarExpanded() !== this.navBarOpen) {\n                widget.$store.commit('setCyclomediaNavBarOpen', window.panoramaViewer.getNavbarExpanded());\n              }\n            })\n          }\n        }.bind(this)\n      ).catch(\n        function(reason) {\n          // console.log('Failed to create component(s) through API: ' + reason);\n        }\n      );\n\n      // const viewer = this.$store.state.cyclomedia.viewer;\n      // viewer.openByCoordinate(coords);\n    },\n    sendOrientationToStore() {\n      // console.log('sendOrientationToStore, yaw:', window.panoramaViewer.props.orientation.yaw);\n      this.$store.commit('setCyclomediaYaw', window.panoramaViewer.props.orientation.yaw)\n      this.$store.commit('setCyclomediaHFov', window.panoramaViewer.props.orientation.hFov)\n      const xy = [window.panoramaViewer.props.orientation.xyz[0], window.panoramaViewer.props.orientation.xyz[1]];\n      const lnglat = Object(proj4__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this.projection2272, this.projection4326, xy);\n      // console.log('xy:', xy, 'lnglat', lnglat);\n      this.$store.commit('setCyclomediaXyz', lnglat);\n    },\n    popoutClicked() {\n      const map = this.$store.state.map.map;\n      const center = map.getCenter();\n      window.open('//cyclomedia.phila.gov/?' + center.lat + '&' + center.lng, '_blank');\n      this.$store.commit('setCyclomediaActive', false);\n    }\n  }\n});\n\n\n//# sourceURL=webpack://mapboard/./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?./node_modules/vue-loader/lib??vue-loader-options");

/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=template&id=454cd8d3&":
/*!***************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?vue&type=template&id=454cd8d3& ***!
  \***************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return staticRenderFns; });\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:this.cycloContainerClass,attrs:{\"id\":\"cyclo-container\"}},[(this.isMobileOrTablet === false && this.popoutAble === true)?_c('div',{style:({ right: _vm.popoutPosition }),attrs:{\"id\":\"inCycloDiv\"},on:{\"click\":this.popoutClicked}},[_c('font-awesome-icon',{staticClass:\"popout-icon\",attrs:{\"icon\":\"external-link\"}})],1):_vm._e(),_vm._v(\" \"),_c('div',{ref:\"cycloviewer\",staticClass:\"panoramaViewerWindow\",attrs:{\"id\":\"cycloviewer\"}})])}\nvar staticRenderFns = []\n\n\n\n//# sourceURL=webpack://mapboard/./node_modules/@cityofphiladelphia/phila-vue-mapping/src/cyclomedia/Widget.vue?./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options");

/***/ })

}]);